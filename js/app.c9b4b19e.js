(function(){"use strict";var e={966:function(e,t,r){var s=r(471),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"wrapper"},[t("Aside"),t("main",[t("router-view")],1)],1)])},a=[],i=r(635),o=r(233),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.asidehide?"aside hide":"aside"},[t("router-link",{staticClass:"aside__logo",attrs:{to:"/"}},[e._v(" Shop Admin ")]),t("nav",{staticClass:"aside__nav"},[t("router-link",{attrs:{to:"/"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"#c2cfe0"}},[t("path",{attrs:{d:"M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm64 64l0 256 160 0 0-256L64 160zm384 0l-160 0 0 256 160 0 0-256z"}})]),t("span",[e._v("Панель управления")])]),t("router-link",{attrs:{to:"/products"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"#c2cfe0"}},[t("path",{attrs:{d:"M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"}})]),t("span",[e._v("Товары")])]),t("router-link",{attrs:{to:"/categories"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",fill:"#c2cfe0"}},[t("path",{attrs:{d:"M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"}})]),t("span",[e._v(" Категории ")])]),t("router-link",{attrs:{to:"/sales"}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"#c2cfe0"}},[t("path",{attrs:{d:"M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"}})]),t("span",[e._v("Продажи")])])],1),t("div",{staticClass:"aside__toggle",on:{click:e.asideToggle}},[t("span"),t("p",[e._v("Скрыть панель")])])],1)},u=[],c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"asidehide",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"asideToggle",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.asidehide=!this.asidehide}}),t=(0,i.Cg)([o.uA],t),t}(o.lD),d=c,p=d,f=r(656),b=(0,f.A)(p,l,u,!1,null,"5a712e47",null),v=b.exports,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t=(0,i.Cg)([(0,o.uA)({components:{Aside:v}})],t),t}(o.lD),g=h,_=g,y=(0,f.A)(_,n,a,!1,null,null,null),m=y.exports,C=r(173),P=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Home")},O=[],w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"home"},[t("div",{staticClass:"home__block"},[t("Title",{attrs:{title:"Панель управления"}}),t("div",{staticClass:"home__cards"},[t("div",{staticClass:"home__card"},[t("div",{staticClass:"home__card-top"},[t("span",[e._v(" Заказы ")]),t("router-link",{attrs:{to:"/sales"}},[e._v(" Подробнее ")])],1),t("div",{staticClass:"home__overcount"},[e._v(e._s(e.totalCount))]),t("div",{staticClass:"home__monthstats"},e._l(e.formattedOrders,(function(r){return t("div",{key:r.date,staticClass:"home__stats",style:{height:r.count/e.biggestCount*100+"%"}},[t("div",{staticClass:"home__dec"},[e._v(" "+e._s(r.date)+" "),t("span",[e._v(" "+e._s(r.count)+" ")])])])})),0)]),t("div",{staticClass:"home__card"},[e._m(0),t("div",{staticClass:"home__overcount"},[e._v("$"+e._s(e.totalSales))]),t("div",{staticClass:"home__monthstats"},e._l(e.formattedSales,(function(r){return t("div",{key:r.date,staticClass:"home__stats",style:{height:r.count/e.biggestSale*100+"%"}},[t("div",{staticClass:"home__dec"},[e._v(" "+e._s(r.date)+" "),t("span",[e._v(" $"+e._s(r.count.toLocaleString("en-EN"))+" ")])])])})),0)]),t("div",{staticClass:"home__card"},[e._m(1),t("div",{staticClass:"home__overcount"},[e._v(e._s(e.totalClients))]),t("div",{staticClass:"home__monthstats"},e._l(e.formattedClients,(function(r){return t("div",{key:r.date,staticClass:"home__stats",style:{height:r.count/e.biggestClientCount*100+"%"}},[t("div",{staticClass:"home__dec"},[e._v(" "+e._s(r.date)+" "),t("span",[e._v(" "+e._s(r.count)+" ")])])])})),0)])])],1),t("div",{staticClass:"home__block"},[t("Title",{attrs:{title:"Лидеры продаж"}}),t("Bestsellers")],1)])},j=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"home__card-top"},[t("span",[e._v(" Продажи ")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"home__card-top"},[t("span",[e._v(" Клиенты ")])])}],A=r(335),x=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"title"},[e._v(e._s(e.title))])},k=[],H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,i.C6)(t,e),(0,i.Cg)([(0,o.kv)()],t.prototype,"title",void 0),t=(0,i.Cg)([o.uA],t),t}(o.lD),T=H,D=T,S=(0,f.A)(D,x,k,!1,null,null,null),M=S.exports,K=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"bestsellers"},[t("div",{staticClass:"table"},[t("table",[t("thead",[t("tr",[t("th",[e._v("Фото")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("title"),on:{click:function(t){return e.sortProducts("title")}}},[e._v(" Название ")]),t("th",[e._v("Категория")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("quantity"),on:{click:function(t){return e.sortProducts("quantity")}}},[e._v(" Количество ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("price"),on:{click:function(t){return e.sortProducts("price")}}},[e._v(" Цена ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("sales"),on:{click:function(t){return e.sortProducts("sales")}}},[e._v(" Продажи ")])])]),t("tbody",e._l(e.products,(function(e){return t("ProductCard",{key:e.id,attrs:{imgsrc:e.images[0]?.url,title:e.title,subcategoryTitle:e.subcategory.title,quantity:e.quantity,price:e.price,sales:e.sales}})})),1)])])])},L=[],z=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("tr",[t("td",[t("div",{staticClass:"table__image"},[t("img",{attrs:{src:e.imgsrc,alt:e.title}})])]),t("td",[e._v(e._s(e.title))]),t("td",[e._v(e._s(e.subcategoryTitle))]),t("td",[e._v(e._s(e.quantity))]),t("td",[e._v("$"+e._s(e.price))]),t("td",[e._v(e._s(e.sales))])])},N=[],q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"imgsrc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"subcategoryTitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"quantity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"price",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"sales",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,i.C6)(t,e),(0,i.Cg)([(0,o.kv)()],t.prototype,"imgsrc",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"title",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"subcategoryTitle",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"quantity",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"price",void 0),(0,i.Cg)([(0,o.kv)()],t.prototype,"sales",void 0),t=(0,i.Cg)([o.uA],t),t}(o.lD),R=q,Y=R,Z=(0,f.A)(Y,z,N,!1,null,null,null),E=Z.exports,F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"products",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"sortKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t,"sortOrder",{enumerable:!0,configurable:!0,writable:!0,value:1}),t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,this.fetchProducts()];case 1:return e.sent(),[2]}}))}))}}),Object.defineProperty(t.prototype,"fetchProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var e,t;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/bestsellers?from=2024-07-27T07%3A30%3A20.857Z&to=2024-08-26T07%3A30%3A20.857Z&_sort=title&_order=asc&_start=0&_end=30")];case 1:return e=r.sent(),this.products=e.data,[3,4];case 2:return t=r.sent(),console.error("Error fetching products:",t),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}}))}))}}),Object.defineProperty(t.prototype,"sortProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.sortKey===e?this.sortOrder*=-1:(this.sortKey=e,this.sortOrder=1),this.products.sort((function(r,s){var n=t.getNestedValue(r,e),a=t.getNestedValue(s,e);return n<a?-1*t.sortOrder:n>a?1*t.sortOrder:0}))}}),Object.defineProperty(t.prototype,"getNestedValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)}}),Object.defineProperty(t.prototype,"getHeaderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{active:this.sortKey===e,up:this.sortKey===e&&1===this.sortOrder,down:this.sortKey===e&&-1===this.sortOrder}}}),t=(0,i.Cg)([(0,o.uA)({components:{ProductCard:E}})],t),t}(o.lD),$=F,V=$,U=(0,f.A)(V,K,L,!1,null,null,null),B=U.exports,Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"orders",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"sales",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"clients",{enumerable:!0,configurable:!0,writable:!0,value:{}}),t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fetchOrders(),this.fetchSales(),this.fetchClients()}}),Object.defineProperty(t.prototype,"fetchOrders",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var e,t;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/orders?from=2024-07-27T05%3A59%3A53.100Z&to=2024-08-26T05%3A59%3A53.101Z")];case 1:return e=r.sent(),this.orders=e.data,[3,3];case 2:return t=r.sent(),console.error("Error fetching orders:",t),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(t.prototype,"formattedOrders",{get:function(){return Object.entries(this.orders).map((function(e){var t=e[0],r=e[1],s=new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return{date:s,count:r}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"biggestCount",{get:function(){return Math.max.apply(Math,Object.values(this.orders))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCount",{get:function(){return Object.values(this.orders).reduce((function(e,t){return e+t}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fetchSales",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var e,t;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/sales?from=2024-07-27T06%3A44%3A34.659Z&to=2024-08-26T06%3A44%3A34.659Z")];case 1:return e=r.sent(),this.sales=e.data,[3,3];case 2:return t=r.sent(),console.error("Error fetching orders:",t),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(t.prototype,"formattedSales",{get:function(){return Object.entries(this.sales).map((function(e){var t=e[0],r=e[1],s=new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return{date:s,count:r}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"biggestSale",{get:function(){return Math.max.apply(Math,Object.values(this.sales))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalSales",{get:function(){return Object.values(this.sales).reduce((function(e,t){return e+t}),0).toLocaleString("en-EN")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fetchClients",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var e,t;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/customers?from=2024-07-27T06%3A44%3A34.659Z&to=2024-08-26T06%3A44%3A34.659Z")];case 1:return e=r.sent(),this.clients=e.data,[3,3];case 2:return t=r.sent(),console.error("Error fetching orders:",t),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(t.prototype,"formattedClients",{get:function(){return Object.entries(this.clients).map((function(e){var t=e[0],r=e[1],s=new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return{date:s,count:r}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"biggestClientCount",{get:function(){return Math.max.apply(Math,Object.values(this.clients))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalClients",{get:function(){return Object.values(this.clients).reduce((function(e,t){return e+t}),0)},enumerable:!1,configurable:!0}),t=(0,i.Cg)([(0,o.uA)({components:{Title:M,Bestsellers:B}})],t),t}(o.lD),I=Q,G=I,J=(0,f.A)(G,w,j,!1,null,"4b6f8950",null),W=J.exports,X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t=(0,i.Cg)([(0,o.uA)({components:{Home:W}})],t),t}(o.lD),ee=X,te=ee,re=(0,f.A)(te,P,O,!1,null,null,null),se=re.exports,ne=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Products")},ae=[],ie=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"products"},[t("Title",{attrs:{title:"Товары"}}),t("div",{staticClass:"products__filter"},[t("div",{staticClass:"products__column"},[t("span",[e._v(" Сортировать по: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Название товара"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}})]),t("div",{staticClass:"products__column"},[t("span",[e._v(" Цена: ")]),t("div",{staticClass:"products__rangewrapper"},[t("span",[e._v(" $"+e._s(this.priceRange[0])+" ")]),t("div",{ref:"rangeSlider",staticClass:"products__range"}),t("span",[e._v(" $"+e._s(this.priceRange[1])+" ")])])]),t("div",{staticClass:"products__column"},[t("span",[e._v(" Статус: ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.statusFilter,expression:"statusFilter"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.statusFilter=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"Любой"}},[e._v("Любой")]),t("option",{attrs:{value:"Активный"}},[e._v("Активный")]),t("option",{attrs:{value:"Неактивный"}},[e._v("Неактивный")])])])]),t("div",{staticClass:"table"},[t("table",[t("thead",[t("tr",[t("th",[e._v("Фото")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("title"),on:{click:function(t){return e.sortProducts("title")}}},[e._v(" Название ")]),t("th",[e._v("Категория")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("quantity"),on:{click:function(t){return e.sortProducts("quantity")}}},[e._v(" Количество ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("price"),on:{click:function(t){return e.sortProducts("price")}}},[e._v(" Цена ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("status"),on:{click:function(t){return e.sortProducts("status")}}},[e._v(" Статус ")])])]),t("tbody",[0===e.filteredProducts.length?t("td",{staticClass:"table__notfound",attrs:{colspan:"6"}},[e._v(" Нет данных ")]):e._e(),e._l(e.filteredProducts,(function(e){return t("ProductCard",{key:e.id,attrs:{imgsrc:e.images[0]?.url,title:e.title,subcategoryTitle:e.subcategory.title,quantity:e.quantity,price:e.price,sales:1==e.status?"Активен":"Неактивен"}})}))],2)])])],1)},oe=[],le=r(476),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"products",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"minPrice",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"maxPrice",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(t,"priceRange",{enumerable:!0,configurable:!0,writable:!0,value:[t.minPrice,t.maxPrice]}),Object.defineProperty(t,"sortKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t,"sortOrder",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"searchQuery",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t,"statusFilter",{enumerable:!0,configurable:!0,writable:!0,value:"Любой"}),t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;return(0,i.sH)(this,void 0,void 0,(function(){var t,r=this;return(0,i.YH)(this,(function(s){switch(s.label){case 0:return[4,this.fetchProducts()];case 1:return s.sent(),t=this.$refs.rangeSlider,le.Ay.create(t,{start:[this.minPrice,this.maxPrice],connect:!0,step:1,range:{min:this.minPrice,max:this.maxPrice}}),null===(e=t.noUiSlider)||void 0===e||e.on("update",(function(e){r.priceRange=e.map((function(e){return parseFloat(e)}))})),[2]}}))}))}}),Object.defineProperty(t.prototype,"fetchProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;return(0,i.sH)(this,void 0,void 0,(function(){var t,r,s;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,A.A.get("https://course-js.javascript.ru/api/rest/products?_embed=subcategory.category&_sort=title&_order=asc&_start=0&_end=30")];case 1:return t=n.sent(),this.products=t.data,this.minPrice=Math.min.apply(Math,this.products.map((function(e){return e.price}))),this.maxPrice=Math.max.apply(Math,this.products.map((function(e){return e.price}))),this.priceRange=[this.minPrice,this.maxPrice],r=this.$refs.rangeSlider,null===(e=r.noUiSlider)||void 0===e||e.updateOptions({range:{min:this.minPrice,max:this.maxPrice},start:[this.minPrice,this.maxPrice]}),[3,4];case 2:return s=n.sent(),console.error("Error fetching products:",s),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}}))}))}}),Object.defineProperty(t.prototype,"sortProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.sortKey===e?this.sortOrder*=-1:(this.sortKey=e,this.sortOrder=1),this.products.sort((function(r,s){var n=t.getNestedValue(r,e),a=t.getNestedValue(s,e);return n<a?-1*t.sortOrder:n>a?1*t.sortOrder:0}))}}),Object.defineProperty(t.prototype,"getNestedValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)}}),Object.defineProperty(t.prototype,"getHeaderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{active:this.sortKey===e,up:this.sortKey===e&&1===this.sortOrder,down:this.sortKey===e&&-1===this.sortOrder}}}),Object.defineProperty(t.prototype,"filteredProducts",{get:function(){var e=this;return this.products.filter((function(t){var r=t.title.toLowerCase().includes(e.searchQuery.toLowerCase()),s=t.price>=e.priceRange[0]&&t.price<=e.priceRange[1],n="Любой"===e.statusFilter||"Активный"===e.statusFilter&&1===t.status||"Неактивный"===e.statusFilter&&0===t.status;return r&&s&&n}))},enumerable:!1,configurable:!0}),t=(0,i.Cg)([(0,o.uA)({components:{ProductCard:E,Title:M}})],t),t}(o.lD),ce=ue,de=ce,pe=(0,f.A)(de,ie,oe,!1,null,null,null),fe=pe.exports,be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t=(0,i.Cg)([(0,o.uA)({components:{Products:fe}})],t),t}(o.lD),ve=be,he=ve,ge=(0,f.A)(he,ne,ae,!1,null,null,null),_e=ge.exports,ye=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Categories")},me=[],Ce=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"categories"},[t("Title",{attrs:{title:"Категории товаров"}}),t("Subtitle",{attrs:{subtitle:"Подкатегории можно перетаскивать, меняя их порядок внутри своей категории."}}),t("div",{staticClass:"categories__cards"},e._l(e.categories,(function(r){return t("div",{key:r.id,staticClass:"categories__card",class:{open:r.isOpen}},[t("div",{staticClass:"categories__top",on:{click:function(t){return e.toggleCategory(r.id)}}},[t("p",[e._v(e._s(r.title))]),t("span",[e._v(e._s(r.count)+" продуктов")])]),t("div",{staticClass:"categories__items"},[t("draggable",{staticClass:"draggable-list",model:{value:r.subcategories,callback:function(t){e.$set(r,"subcategories",t)},expression:"category.subcategories"}},e._l(r.subcategories,(function(r){return t("div",{key:r.id,staticClass:"categories__item"},[t("p",[e._v(e._s(r.title))]),t("span",[e._v(e._s(r.count)+" продуктов")])])})),0)],1)])})),0)],1)},Pe=[],Oe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"subtitle"},[e._v(e._s(e.subtitle))])},we=[],je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"subtitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,i.C6)(t,e),(0,i.Cg)([(0,o.kv)()],t.prototype,"subtitle",void 0),t=(0,i.Cg)([o.uA],t),t}(o.lD),Ae=je,xe=Ae,ke=(0,f.A)(xe,Oe,we,!1,null,null,null),He=ke.exports,Te=r(432),De=r.n(Te),Se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"categories",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,this.fetchCategories()];case 1:return e.sent(),[2]}}))}))}}),Object.defineProperty(t.prototype,"fetchCategories",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var e,t;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,A.A.get("https://course-js.javascript.ru/api/rest/categories?_sort=weight&_refs=subcategory")];case 1:return e=r.sent(),this.categories=e.data.map((function(e){return(0,i.Cl)((0,i.Cl)({},e),{isOpen:!0})})),[3,4];case 2:return t=r.sent(),console.error("Error fetching products:",t),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}}))}))}}),Object.defineProperty(t.prototype,"toggleCategory",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.categories.find((function(t){return t.id===e}));t&&(t.isOpen=!t.isOpen)}}),t=(0,i.Cg)([(0,o.uA)({components:{Title:M,Subtitle:He,draggable:De()}})],t),t}(o.lD),Me=Se,Ke=Me,Le=(0,f.A)(Ke,Ce,Pe,!1,null,"e8523dc8",null),ze=Le.exports,Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t=(0,i.Cg)([(0,o.uA)({components:{Categories:ze}})],t),t}(o.lD),qe=Ne,Re=qe,Ye=(0,f.A)(Re,ye,me,!1,null,null,null),Ze=Ye.exports,Ee=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("Sales")},Fe=[],$e=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"sales"},[t("Title",{attrs:{title:"Продажи"}}),t("div",{staticClass:"table"},[t("table",[t("thead",[t("tr",[t("th",{staticClass:"table-sort",class:e.getHeaderClass("id"),on:{click:function(t){return e.sortProducts("id")}}},[e._v(" ID ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("user"),on:{click:function(t){return e.sortProducts("user")}}},[e._v(" Клиент ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("createdAt"),on:{click:function(t){return e.sortProducts("createdAt")}}},[e._v(" Дата ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("totalCost"),on:{click:function(t){return e.sortProducts("totalCost")}}},[e._v(" Стоимость ")]),t("th",{staticClass:"table-sort",class:e.getHeaderClass("delivery"),on:{click:function(t){return e.sortProducts("delivery")}}},[e._v(" Статус ")])])]),t("tbody",e._l(e.salesData,(function(r){return t("tr",{key:r.id},[t("td",[e._v(e._s(r.id))]),t("td",[e._v(e._s(r.user))]),t("td",[e._v(e._s(e.formatDate(r.createdAt)))]),t("td",[e._v("$"+e._s(r.totalCost))]),t("td",[e._v(e._s(r.delivery))])])})),0)])])],1)},Ve=[],Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"salesData",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(t,"sortKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(t,"sortOrder",{enumerable:!0,configurable:!0,writable:!0,value:1}),t}return(0,i.C6)(t,e),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,this.fetchSalesData()];case 1:return e.sent(),[2]}}))}))}}),Object.defineProperty(t.prototype,"fetchSalesData",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var e,t;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/rest/orders?createdAt_gte=2024-07-27T10%3A29%3A37.086Z&createdAt_lte=2024-08-26T10%3A29%3A37.086Z&_sort=createdAt&_order=desc&_start=0&_end=30")];case 1:return e=r.sent(),this.salesData=e.data,[3,3];case 2:return t=r.sent(),console.error("Error fetching products:",t),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(t.prototype,"formatDate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=new Date(e),r={day:"numeric",month:"short",year:"numeric",timeZone:"UTC"};return new Intl.DateTimeFormat("ru-RU",r).format(t)}}),Object.defineProperty(t.prototype,"sortProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.sortKey===e?this.sortOrder*=-1:(this.sortKey=e,this.sortOrder=1),this.salesData.sort((function(r,s){var n=t.getNestedValue(r,e),a=t.getNestedValue(s,e);return n<a?-1*t.sortOrder:n>a?1*t.sortOrder:0}))}}),Object.defineProperty(t.prototype,"getNestedValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t.split(".").reduce((function(e,t){return e[t]}),e)}}),Object.defineProperty(t.prototype,"getHeaderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{active:this.sortKey===e,up:this.sortKey===e&&1===this.sortOrder,down:this.sortKey===e&&-1===this.sortOrder}}}),t=(0,i.Cg)([(0,o.uA)({components:{Title:M}})],t),t}(o.lD),Be=Ue,Qe=Be,Ie=(0,f.A)(Qe,$e,Ve,!1,null,"70aa1362",null),Ge=Ie.exports,Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.C6)(t,e),t=(0,i.Cg)([(0,o.uA)({components:{Sales:Ge}})],t),t}(o.lD),We=Je,Xe=We,et=(0,f.A)(Xe,Ee,Fe,!1,null,null,null),tt=et.exports;s.Ay.use(C.Ay);var rt=[{path:"/",name:"home",component:se},{path:"/products",name:"products",component:_e},{path:"/categories",name:"categories",component:Ze},{path:"/sales",name:"sales",component:tt}],st=new C.Ay({mode:"history",base:"/shopadmin/",routes:rt}),nt=st,at=r(353);s.Ay.use(at.Ay);var it=new at.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});s.Ay.config.productionTip=!1,new s.Ay({router:nt,store:it,render:function(e){return e(m)}}).$mount("#app")}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,a){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],a=e[c][2];for(var o=!0,l=0;l<s.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(o=!1,a<i&&(i=a));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,i=s[0],o=s[1],l=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)var c=l(r)}for(t&&t(s);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},s=self["webpackChunkshopadmin"]=self["webpackChunkshopadmin"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[504],(function(){return r(966)}));s=r.O(s)})();
//# sourceMappingURL=app.c9b4b19e.js.map