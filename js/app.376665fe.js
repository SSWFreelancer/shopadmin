(function(){"use strict";var t={644:function(t,e,r){var s=r(471),n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrapper"},[e("Aside"),e("main",[e("router-view")],1)],1)])},a=[],i=r(635),o=r(233),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.asidehide?"aside hide":"aside"},[e("router-link",{staticClass:"aside__logo",attrs:{to:"/"}},[t._v(" Shop Admin ")]),e("nav",{staticClass:"aside__nav"},[e("router-link",{attrs:{to:"/"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"#c2cfe0"}},[e("path",{attrs:{d:"M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm64 64l0 256 160 0 0-256L64 160zm384 0l-160 0 0 256 160 0 0-256z"}})]),e("span",[t._v("Панель управления")])]),e("router-link",{attrs:{to:"/products"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"#c2cfe0"}},[e("path",{attrs:{d:"M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"}})]),e("span",[t._v("Товары")])]),e("router-link",{attrs:{to:"/categories"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",fill:"#c2cfe0"}},[e("path",{attrs:{d:"M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"}})]),e("span",[t._v(" Категории ")])]),e("router-link",{attrs:{to:"/sales"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"#c2cfe0"}},[e("path",{attrs:{d:"M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"}})]),e("span",[t._v("Продажи")])])],1),e("div",{staticClass:"aside__toggle",on:{click:t.asideToggle}},[e("span"),e("p",[t._v("Скрыть панель")])])],1)},l=[],c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"asidehide",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"asideToggle",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.asidehide=!this.asidehide}}),e=(0,i.Cg)([o.uA],e),e}(o.lD),d=c,p=d,f=r(656),b=(0,f.A)(p,u,l,!1,null,"5a712e47",null),v=b.exports,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e=(0,i.Cg)([(0,o.uA)({components:{Aside:v}})],e),e}(o.lD),_=h,g=_,y=(0,f.A)(g,n,a,!1,null,null,null),m=y.exports,C=r(173),P=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Home")},O=[],w=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"home"},[e("div",{staticClass:"home__block"},[e("Title",{attrs:{title:"Панель управления"}}),e("div",{staticClass:"home__cards"},[e("div",{staticClass:"home__card"},[e("div",{staticClass:"home__card-top"},[e("span",[t._v(" Заказы ")]),e("router-link",{attrs:{to:"/sales"}},[t._v(" Подробнее ")])],1),e("div",{staticClass:"home__overcount"},[t._v(t._s(t.totalCount))]),e("div",{staticClass:"home__monthstats"},t._l(t.formattedOrders,(function(r){return e("div",{key:r.date,staticClass:"home__stats",style:{height:r.count/t.biggestCount*100+"%"}},[e("div",{staticClass:"home__dec"},[t._v(" "+t._s(r.date)+" "),e("span",[t._v(" "+t._s(r.count)+" ")])])])})),0)]),e("div",{staticClass:"home__card"},[t._m(0),e("div",{staticClass:"home__overcount"},[t._v("$"+t._s(t.totalSales))]),e("div",{staticClass:"home__monthstats"},t._l(t.formattedSales,(function(r){return e("div",{key:r.date,staticClass:"home__stats",style:{height:r.count/t.biggestSale*100+"%"}},[e("div",{staticClass:"home__dec"},[t._v(" "+t._s(r.date)+" "),e("span",[t._v(" $"+t._s(r.count.toLocaleString("en-EN"))+" ")])])])})),0)]),e("div",{staticClass:"home__card"},[t._m(1),e("div",{staticClass:"home__overcount"},[t._v(t._s(t.totalClients))]),e("div",{staticClass:"home__monthstats"},t._l(t.formattedClients,(function(r){return e("div",{key:r.date,staticClass:"home__stats",style:{height:r.count/t.biggestClientCount*100+"%"}},[e("div",{staticClass:"home__dec"},[t._v(" "+t._s(r.date)+" "),e("span",[t._v(" "+t._s(r.count)+" ")])])])})),0)])])],1),e("div",{staticClass:"home__block"},[e("Title",{attrs:{title:"Лидеры продаж"}}),e("Bestsellers")],1)])},j=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"home__card-top"},[e("span",[t._v(" Продажи ")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"home__card-top"},[e("span",[t._v(" Клиенты ")])])}],A=r(335),x=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"title"},[t._v(t._s(t.title))])},k=[],H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return(0,i.C6)(e,t),(0,i.Cg)([(0,o.kv)()],e.prototype,"title",void 0),e=(0,i.Cg)([o.uA],e),e}(o.lD),D=H,S=D,T=(0,f.A)(S,x,k,!1,null,null,null),M=T.exports,K=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"bestsellers"},[e("div",{staticClass:"table"},[e("table",[e("thead",[e("tr",[e("th",[t._v("Фото")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("title"),on:{click:function(e){return t.sortProducts("title")}}},[t._v(" Название ")]),e("th",[t._v("Категория")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("quantity"),on:{click:function(e){return t.sortProducts("quantity")}}},[t._v(" Количество ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("price"),on:{click:function(e){return t.sortProducts("price")}}},[t._v(" Цена ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("sales"),on:{click:function(e){return t.sortProducts("sales")}}},[t._v(" Продажи ")])])]),e("tbody",t._l(t.products,(function(t){return e("ProductCard",{key:t.id,attrs:{product:t,sales:!0}})})),1)])])])},L=[],z=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("tr",[e("td",[e("div",{staticClass:"table__image"},[e("img",{attrs:{src:t.product.images[0]?.url,alt:t.product.title}})])]),e("td",[t._v(t._s(t.product.title))]),e("td",[t._v(t._s(t.product.subcategory.title))]),e("td",[t._v(t._s(t.product.quantity))]),e("td",[t._v("$"+t._s(t.product.price))]),t.sales?e("td",[t._v(" "+t._s(t.product.sales)+" ")]):e("td",[t._v(t._s(1==t.product.status?"Активен":"Неактивен"))])])},N=[],R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"product",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"sales",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return(0,i.C6)(e,t),(0,i.Cg)([(0,o.kv)({required:!0})],e.prototype,"product",void 0),(0,i.Cg)([(0,o.kv)({required:!1})],e.prototype,"sales",void 0),e=(0,i.Cg)([o.uA],e),e}(o.lD),Y=R,Z=Y,E=(0,f.A)(Z,z,N,!1,null,null,null),F=E.exports,$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"products",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"sortKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e,"sortOrder",{enumerable:!0,configurable:!0,writable:!0,value:1}),e}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.fetchProducts()];case 1:return t.sent(),[2]}}))}))}}),Object.defineProperty(e.prototype,"fetchProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/bestsellers?from=2024-07-27T07%3A30%3A20.857Z&to=2024-08-26T07%3A30%3A20.857Z&_sort=title&_order=asc&_start=0&_end=30")];case 1:return t=r.sent(),this.products=t.data,[3,4];case 2:return e=r.sent(),console.error("Error fetching products:",e),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}}))}))}}),Object.defineProperty(e.prototype,"sortProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this;this.sortKey===t?this.sortOrder*=-1:(this.sortKey=t,this.sortOrder=1),this.products.sort((function(r,s){var n=e.getNestedValue(r,t),a=e.getNestedValue(s,t);return n<a?-1*e.sortOrder:n>a?1*e.sortOrder:0}))}}),Object.defineProperty(e.prototype,"getNestedValue",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){return e.split(".").reduce((function(t,e){return t[e]}),t)}}),Object.defineProperty(e.prototype,"getHeaderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return{active:this.sortKey===t,up:this.sortKey===t&&1===this.sortOrder,down:this.sortKey===t&&-1===this.sortOrder}}}),e=(0,i.Cg)([(0,o.uA)({components:{ProductCard:F}})],e),e}(o.lD),V=$,q=V,U=(0,f.A)(q,K,L,!1,null,null,null),B=U.exports,Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"orders",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"sales",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"clients",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fetchOrders(),this.fetchSales(),this.fetchClients()}}),Object.defineProperty(e.prototype,"fetchOrders",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/orders?from=2024-07-27T05%3A59%3A53.100Z&to=2024-08-26T05%3A59%3A53.101Z")];case 1:return t=r.sent(),this.orders=t.data,[3,3];case 2:return e=r.sent(),console.error("Error fetching orders:",e),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"formattedOrders",{get:function(){return Object.entries(this.orders).map((function(t){var e=t[0],r=t[1],s=new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return{date:s,count:r}}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"biggestCount",{get:function(){return Math.max.apply(Math,Object.values(this.orders))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalCount",{get:function(){return Object.values(this.orders).reduce((function(t,e){return t+e}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fetchSales",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/sales?from=2024-07-27T06%3A44%3A34.659Z&to=2024-08-26T06%3A44%3A34.659Z")];case 1:return t=r.sent(),this.sales=t.data,[3,3];case 2:return e=r.sent(),console.error("Error fetching orders:",e),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"formattedSales",{get:function(){return Object.entries(this.sales).map((function(t){var e=t[0],r=t[1],s=new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return{date:s,count:r}}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"biggestSale",{get:function(){return Math.max.apply(Math,Object.values(this.sales))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalSales",{get:function(){return Object.values(this.sales).reduce((function(t,e){return t+e}),0).toLocaleString("en-EN")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fetchClients",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/dashboard/customers?from=2024-07-27T06%3A44%3A34.659Z&to=2024-08-26T06%3A44%3A34.659Z")];case 1:return t=r.sent(),this.clients=t.data,[3,3];case 2:return e=r.sent(),console.error("Error fetching orders:",e),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"formattedClients",{get:function(){return Object.entries(this.clients).map((function(t){var e=t[0],r=t[1],s=new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"});return{date:s,count:r}}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"biggestClientCount",{get:function(){return Math.max.apply(Math,Object.values(this.clients))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalClients",{get:function(){return Object.values(this.clients).reduce((function(t,e){return t+e}),0)},enumerable:!1,configurable:!0}),e=(0,i.Cg)([(0,o.uA)({components:{Title:M,Bestsellers:B}})],e),e}(o.lD),I=Q,G=I,J=(0,f.A)(G,w,j,!1,null,"57324834",null),W=J.exports,X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e=(0,i.Cg)([(0,o.uA)({components:{Home:W}})],e),e}(o.lD),tt=X,et=tt,rt=(0,f.A)(et,P,O,!1,null,null,null),st=rt.exports,nt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Products")},at=[],it=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"products"},[e("Title",{attrs:{title:"Товары"}}),e("div",{staticClass:"products__filter"},[e("div",{staticClass:"products__column"},[e("span",[t._v(" Сортировать по: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text",placeholder:"Название товара"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),e("div",{staticClass:"products__column"},[e("span",[t._v(" Цена: ")]),e("div",{staticClass:"products__rangewrapper"},[e("span",[t._v(" $"+t._s(this.priceRange[0])+" ")]),e("div",{ref:"rangeSlider",staticClass:"products__range"}),e("span",[t._v(" $"+t._s(this.priceRange[1])+" ")])])]),e("div",{staticClass:"products__column"},[e("span",[t._v(" Статус: ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.statusFilter,expression:"statusFilter"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.statusFilter=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:"Любой"}},[t._v("Любой")]),e("option",{attrs:{value:"Активный"}},[t._v("Активный")]),e("option",{attrs:{value:"Неактивный"}},[t._v("Неактивный")])])])]),e("div",{staticClass:"table"},[e("table",[e("thead",[e("tr",[e("th",[t._v("Фото")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("title"),on:{click:function(e){return t.sortProducts("title")}}},[t._v(" Название ")]),e("th",[t._v("Категория")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("quantity"),on:{click:function(e){return t.sortProducts("quantity")}}},[t._v(" Количество ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("price"),on:{click:function(e){return t.sortProducts("price")}}},[t._v(" Цена ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("status"),on:{click:function(e){return t.sortProducts("status")}}},[t._v(" Статус ")])])]),e("tbody",[0===t.filteredProducts.length?e("td",{staticClass:"table__notfound",attrs:{colspan:"6"}},[t._v(" Нет данных ")]):t._e(),t._l(t.filteredProducts,(function(t){return e("ProductCard",{key:t.id,attrs:{product:t}})}))],2)])])],1)},ot=[],ut=r(476),lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"products",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"minPrice",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"maxPrice",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(e,"priceRange",{enumerable:!0,configurable:!0,writable:!0,value:[e.minPrice,e.maxPrice]}),Object.defineProperty(e,"sortKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e,"sortOrder",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"searchQuery",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e,"statusFilter",{enumerable:!0,configurable:!0,writable:!0,value:"Любой"}),e}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;return(0,i.sH)(this,void 0,void 0,(function(){var e,r=this;return(0,i.YH)(this,(function(s){switch(s.label){case 0:return[4,this.fetchProducts()];case 1:return s.sent(),e=this.$refs.rangeSlider,ut.Ay.create(e,{start:[this.minPrice,this.maxPrice],connect:!0,step:1,range:{min:this.minPrice,max:this.maxPrice}}),null===(t=e.noUiSlider)||void 0===t||t.on("update",(function(t){r.priceRange=t.map((function(t){return parseFloat(t)}))})),[2]}}))}))}}),Object.defineProperty(e.prototype,"fetchProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;return(0,i.sH)(this,void 0,void 0,(function(){var e,r,s;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,A.A.get("https://course-js.javascript.ru/api/rest/products?_embed=subcategory.category&_sort=title&_order=asc&_start=0&_end=30")];case 1:return e=n.sent(),this.products=e.data,this.minPrice=Math.min.apply(Math,this.products.map((function(t){return t.price}))),this.maxPrice=Math.max.apply(Math,this.products.map((function(t){return t.price}))),this.priceRange=[this.minPrice,this.maxPrice],r=this.$refs.rangeSlider,null===(t=r.noUiSlider)||void 0===t||t.updateOptions({range:{min:this.minPrice,max:this.maxPrice},start:[this.minPrice,this.maxPrice]}),[3,4];case 2:return s=n.sent(),console.error("Error fetching products:",s),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}}))}))}}),Object.defineProperty(e.prototype,"sortProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this;this.sortKey===t?this.sortOrder*=-1:(this.sortKey=t,this.sortOrder=1),this.products.sort((function(r,s){var n=e.getNestedValue(r,t),a=e.getNestedValue(s,t);return n<a?-1*e.sortOrder:n>a?1*e.sortOrder:0}))}}),Object.defineProperty(e.prototype,"getNestedValue",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){return e.split(".").reduce((function(t,e){return t[e]}),t)}}),Object.defineProperty(e.prototype,"getHeaderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return{active:this.sortKey===t,up:this.sortKey===t&&1===this.sortOrder,down:this.sortKey===t&&-1===this.sortOrder}}}),Object.defineProperty(e.prototype,"filteredProducts",{get:function(){var t=this;return this.products.filter((function(e){var r=e.title.toLowerCase().includes(t.searchQuery.toLowerCase()),s=e.price>=t.priceRange[0]&&e.price<=t.priceRange[1],n="Любой"===t.statusFilter||"Активный"===t.statusFilter&&1===e.status||"Неактивный"===t.statusFilter&&0===e.status;return r&&s&&n}))},enumerable:!1,configurable:!0}),e=(0,i.Cg)([(0,o.uA)({components:{ProductCard:F,Title:M}})],e),e}(o.lD),ct=lt,dt=ct,pt=(0,f.A)(dt,it,ot,!1,null,null,null),ft=pt.exports,bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e=(0,i.Cg)([(0,o.uA)({components:{Products:ft}})],e),e}(o.lD),vt=bt,ht=vt,_t=(0,f.A)(ht,nt,at,!1,null,null,null),gt=_t.exports,yt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Categories")},mt=[],Ct=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"categories"},[e("Title",{attrs:{title:"Категории товаров"}}),e("Subtitle",{attrs:{subtitle:"Подкатегории можно перетаскивать, меняя их порядок внутри своей категории."}}),e("div",{staticClass:"categories__cards"},t._l(t.categories,(function(r){return e("div",{key:r.id,staticClass:"categories__card",class:{open:r.isOpen}},[e("div",{staticClass:"categories__top",on:{click:function(e){return t.toggleCategory(r.id)}}},[e("p",[t._v(t._s(r.title))]),e("span",[t._v(t._s(r.count)+" продуктов")])]),e("div",{staticClass:"categories__items"},[e("draggable",{staticClass:"draggable-list",model:{value:r.subcategories,callback:function(e){t.$set(r,"subcategories",e)},expression:"category.subcategories"}},t._l(r.subcategories,(function(r){return e("div",{key:r.id,staticClass:"categories__item"},[e("p",[t._v(t._s(r.title))]),e("span",[t._v(t._s(r.count)+" продуктов")])])})),0)],1)])})),0)],1)},Pt=[],Ot=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))])},wt=[],jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"subtitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return(0,i.C6)(e,t),(0,i.Cg)([(0,o.kv)()],e.prototype,"subtitle",void 0),e=(0,i.Cg)([o.uA],e),e}(o.lD),At=jt,xt=At,kt=(0,f.A)(xt,Ot,wt,!1,null,null,null),Ht=kt.exports,Dt=r(432),St=r.n(Dt),Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"categories",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.fetchCategories()];case 1:return t.sent(),[2]}}))}))}}),Object.defineProperty(e.prototype,"fetchCategories",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,A.A.get("https://course-js.javascript.ru/api/rest/categories?_sort=weight&_refs=subcategory")];case 1:return t=r.sent(),this.categories=t.data.map((function(t){return(0,i.Cl)((0,i.Cl)({},t),{isOpen:!0})})),[3,4];case 2:return e=r.sent(),console.error("Error fetching products:",e),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}}))}))}}),Object.defineProperty(e.prototype,"toggleCategory",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this.categories.find((function(e){return e.id===t}));e&&(e.isOpen=!e.isOpen)}}),e=(0,i.Cg)([(0,o.uA)({components:{Title:M,Subtitle:Ht,draggable:St()}})],e),e}(o.lD),Mt=Tt,Kt=Mt,Lt=(0,f.A)(Kt,Ct,Pt,!1,null,"63763a22",null),zt=Lt.exports,Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e=(0,i.Cg)([(0,o.uA)({components:{Categories:zt}})],e),e}(o.lD),Rt=Nt,Yt=Rt,Zt=(0,f.A)(Yt,yt,mt,!1,null,null,null),Et=Zt.exports,Ft=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Sales")},$t=[],Vt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"sales"},[e("Title",{attrs:{title:"Продажи"}}),e("div",{staticClass:"table"},[e("table",[e("thead",[e("tr",[e("th",{staticClass:"table-sort",class:t.getHeaderClass("id"),on:{click:function(e){return t.sortProducts("id")}}},[t._v(" ID ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("user"),on:{click:function(e){return t.sortProducts("user")}}},[t._v(" Клиент ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("createdAt"),on:{click:function(e){return t.sortProducts("createdAt")}}},[t._v(" Дата ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("totalCost"),on:{click:function(e){return t.sortProducts("totalCost")}}},[t._v(" Стоимость ")]),e("th",{staticClass:"table-sort",class:t.getHeaderClass("delivery"),on:{click:function(e){return t.sortProducts("delivery")}}},[t._v(" Статус ")])])]),e("tbody",t._l(t.salesData,(function(r){return e("tr",{key:r.id},[e("td",[t._v(t._s(r.id))]),e("td",[t._v(t._s(r.user))]),e("td",[t._v(t._s(t.formatDate(r.createdAt)))]),e("td",[t._v("$"+t._s(r.totalCost))]),e("td",[t._v(t._s(r.delivery))])])})),0)])])],1)},qt=[],Ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return Object.defineProperty(e,"salesData",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"sortKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e,"sortOrder",{enumerable:!0,configurable:!0,writable:!0,value:1}),e}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.fetchSalesData()];case 1:return t.sent(),[2]}}))}))}}),Object.defineProperty(e.prototype,"fetchSalesData",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,A.A.get("https://course-js.javascript.ru/api/rest/orders?createdAt_gte=2024-07-27T10%3A29%3A37.086Z&createdAt_lte=2024-08-26T10%3A29%3A37.086Z&_sort=createdAt&_order=desc&_start=0&_end=30")];case 1:return t=r.sent(),this.salesData=t.data,[3,3];case 2:return e=r.sent(),console.error("Error fetching products:",e),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"formatDate",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=new Date(t),r={day:"numeric",month:"short",year:"numeric",timeZone:"UTC"};return new Intl.DateTimeFormat("ru-RU",r).format(e)}}),Object.defineProperty(e.prototype,"sortProducts",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this;this.sortKey===t?this.sortOrder*=-1:(this.sortKey=t,this.sortOrder=1),this.salesData.sort((function(r,s){var n=e.getNestedValue(r,t),a=e.getNestedValue(s,t);return n<a?-1*e.sortOrder:n>a?1*e.sortOrder:0}))}}),Object.defineProperty(e.prototype,"getNestedValue",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){return e.split(".").reduce((function(t,e){return t[e]}),t)}}),Object.defineProperty(e.prototype,"getHeaderClass",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return{active:this.sortKey===t,up:this.sortKey===t&&1===this.sortOrder,down:this.sortKey===t&&-1===this.sortOrder}}}),e=(0,i.Cg)([(0,o.uA)({components:{Title:M}})],e),e}(o.lD),Bt=Ut,Qt=Bt,It=(0,f.A)(Qt,Vt,qt,!1,null,"60a3998e",null),Gt=It.exports,Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e=(0,i.Cg)([(0,o.uA)({components:{Sales:Gt}})],e),e}(o.lD),Wt=Jt,Xt=Wt,te=(0,f.A)(Xt,Ft,$t,!1,null,null,null),ee=te.exports;s.Ay.use(C.Ay);var re=[{path:"/",name:"home",component:st},{path:"/products",name:"products",component:gt},{path:"/categories",name:"categories",component:Et},{path:"/sales",name:"sales",component:ee}],se=new C.Ay({mode:"history",base:"/shopadmin/",routes:re}),ne=se,ae=r(353);s.Ay.use(ae.Ay);var ie=new ae.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});s.Ay.config.productionTip=!1,new s.Ay({router:ne,store:ie,render:function(t){return t(m)}}).$mount("#app")}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,s,n,a){if(!s){var i=1/0;for(c=0;c<t.length;c++){s=t[c][0],n=t[c][1],a=t[c][2];for(var o=!0,u=0;u<s.length;u++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](s[u])}))?s.splice(u--,1):(o=!1,a<i&&(i=a));if(o){t.splice(c--,1);var l=n();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[s,n,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,a,i=s[0],o=s[1],u=s[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(u)var c=u(r)}for(e&&e(s);l<i.length;l++)a=i[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(c)},s=self["webpackChunkshopadmin"]=self["webpackChunkshopadmin"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[504],(function(){return r(644)}));s=r.O(s)})();
//# sourceMappingURL=app.376665fe.js.map